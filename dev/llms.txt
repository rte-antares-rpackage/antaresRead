# antaresRead

![](reference/figures/antares_simulator.png)  

> Read data from an Antares study with R package ‘antaresRead’

## Installation

You can install the package from CRAN:

``` r
install.packages("antaresRead")
```

You can also install the last development version from Github:

``` r
devtools::install_github("rte-antares-rpackage/antaresRead")
```

To display the help of the package and see all the functions it
provides, type:

``` r
help(package="antaresRead")
```

To see a practical example of use of the package, look at the vignette :

``` r
vignette("antares")
```

Finally, you can download a cheatsheet that summarize in a single page
how to use the package:
<https://github.com/rte-antares-rpackage/antaresRead/raw/master/cheat_sheet/antares_cheat_sheet_en.pdf>
.

See website for more documentation:
<https://rte-antares-rpackage.github.io/antaresRead/>

## Initialisation

Load the package

``` r
library(antaresRead)
```

Select an Antares simulation interactively.

``` r
setSimulationPath()
```

You can also select it programmatically:

``` r
setsimulationPath("study_path", simulation)
```

The parameter `simulation` can be the name of a simulation, the name of
the folder containing the simulation results, or the index of the
simulation. `1` corresponds to the oldest simulation, `-1` to the newest
one, 0 to the inputs.

## Read data from a simulation

Most data from a simulation can be imported in the R session with
function [`readAntares()`](reference/readAntares.md). It has many
parameters that control what data is imported. Here are a few examples:

``` r
# Read synthetic results of all areas of a study with hourly time step.
areaData <- readAntares(areas = "all")

# Same but with a daily time step:
areaData <- readAntares(areas = "all", timeStep = "daily")

# Read all Monte Carlo scenarios for a given area.
myArea <- readAntares(areas = "my_area", mcYears = "all")

# Same but add miscelaneous production time series to the result 
myArea <- readAntares(areas = "my_area", mcYears = "all", misc = TRUE)

# Read only columns "LOAD" and "MRG. PRICE"
areaData <- readAntares(areas = "all", select = c("LOAD", "MRG. PRICE"))
```

Functions `getAreas` and `getLinks` are helpful to create a selection of
areas or links of interest. Here are a few examples:

``` r
# select areas containing "fr"
myareas <- getAreas("fr")

# Same but remove areas containing "hvdc"
myareas <- getAreas("fr", exclude = "hvdc")

# Get the links that connect two of the previous areas
mylinks <- getLinks(myareas, internalOnly = FALSE)

# Get the results for these areas and links
mydata <- readAntares(areas = myareas, links = mylinks)
```

## Work with the imported data

When only one type of elements is imported (only areas or only links,
etc.) [`readAntares()`](reference/readAntares.md) read antares returns a
`data.table` with some extra attributes. A `data.table` is a table with
some enhanced capacities offered by package `data.table`. In particular
it provides a special syntax to manipulate its content:

``` r
name_of_the_table[filter_rows, select_columns, group_by]
```

Here are some examples:

``` r
# Select lines based on some criteria
mydata[area == "fr" & month == "JUL"]

# Select columns, and compute new ones
mydata[, .(area, month, load2 = LOAD^2)]

# Aggregate data by some variables
mydata[, .(total = sum(LOAD)), by = .(month)]

# All three operations can be done with a single line of code
mydata[area == "fr", .(total = sum(LOAD)), by = .(month)]

help(package = "data.table")
```

If you are not familiar with package `data.table`, you should have a
look at the documentation and especially at the vignettes of the
package:

``` r
help(package="data.table")
vignette("datatable-intro")
```

## Contributing:

Contributions to the library are welcome and can be submitted in the
form of pull requests to this repository.

The folder test_case contains a test Antares study used to run automatic
tests. If you modifies it, you need to run the following command to
include the modifications in the tests:

``` r
saveWd<-getwd()
setwd('inst/testdata/')
tar(
  tarfile = "antares-test-study.tar.gz", 
  files = "test_case", 
  compression = "gzip"
)

setwd(saveWd)
```

## ANTARES :

Antares is a powerful software developed by RTE to simulate and study
electric power systems (more information about Antares here :
<https://antares-simulator.org/>).

ANTARES is now an open-source project (since 2018), you can download the
sources
[here](https://github.com/AntaresSimulatorTeam/Antares_Simulator) if you
want to use this package.

## License Information:

Copyright 2015-2016 RTE (France)

- RTE: <https://www.rte-france.com>

This Source Code is subject to the terms of the GNU General Public
License, version 2 or any higher version. If a copy of the GPL-v2 was
not distributed with this file, You can obtain one at
<https://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html>.

# Package index

## All functions

- [`api_get()`](API-methods.md) [`api_post()`](API-methods.md)
  [`api_put()`](API-methods.md) [`api_delete()`](API-methods.md) : API
  methods
- [`parAggregateMCall()`](aggregatate_mc_all.md)
  [`aggregateResult()`](aggregatate_mc_all.md) : Creation of Mc_all new
  (only antares \> V6)
- [`as.antaresDataList()`](as.antaresDataList.md) : Convert objects to
  antaresDataTable
- [`as.antaresDataTable()`](as.antaresDataTable.md) : Convert objects to
  antaresDataTable
- [`changeTimeStep()`](changeTimeStep.md) : Change the timestep of an
  output
- [`copyToClipboard()`](copyToClipboard.md) : Copy data to the clipboard
- [`.download_api_aggregate_result()`](dot-download_api_aggregate_result.md)
  : Retrieve information on a file's state of preparation and retrieve
  download file.
- [`.filter_bindingConstraints_by_names()`](dot-filter_bindingConstraints_by_names.md)
  : Filter a list of binding constraints by names by a exact match
- [`extractDataList()`](extractDataList.md) : Format data PPSE-style
- [`getAreas()`](getAreas.md) [`getDistricts()`](getAreas.md) : Select
  and exclude areas
- [`getGeographicTrimming()`](getGeographicTrimming.md) : Read
  geographic trimming (filtering) options
- [`getIdCols()`](getIdCols.md) : get Id columns
- [`getLinks()`](getLinks.md) : Retrieve links connected to a set of
  areas
- [`getThematicTrimming()`](getThematicTrimming.md) : Get the Thematic
  trimming of an Antares study
- [`hvdcModification()`](hvdcModification.md) : hvdc straitement
- [`list_thematic_variables()`](list_thematic_variables.md) : List of
  thematic trimming variables available according to study version
- [`mergeDigests()`](mergeDigests.md) : Merge two digests
- [`ponderateMcAggregation()`](ponderateMcAggregation.md) : Mcyear
  aggregation weigthed by wd
- [`readIni()`](read-ini.md) [`readIniFile()`](read-ini.md)
  [`readIniAPI()`](read-ini.md) : Read configuration options from file
  or API
- [`readAntares()`](readAntares.md) : Read the data of an Antares
  simulation
- [`readAntaresAreas()`](readAntaresAreas.md) : Read output for a list
  of areas
- [`readAntaresClusters()`](readAntaresClusters.md) : Read output for a
  list of clusters
- [`readAntaresSTClusters()`](readAntaresSTClusters.md) : Read output
  for a list of short-term storage clusters
- [`readBindingConstraints()`](readBindingConstraints.md) : Read binding
  constraints
- [`readClusterDesc()`](readClusterDesc.md)
  [`readClusterResDesc()`](readClusterDesc.md)
  [`readClusterSTDesc()`](readClusterDesc.md) : Import clusters
  description
- [`readDigestFile()`](readDigestFile.md) : Read digest file
- [`readInputRES()`](readInputRES.md) : Read Input RES time series
- [`readInputTS()`](readInputTS.md) : Read Input time series
- [`readInputThermal()`](readInputThermal.md) : Read Input thermal time
  series
- [`readLayout()`](readLayout.md) : Read areas layout
- [`readOptimCriteria()`](readOptimCriteria.md) : Read Optimization
  Criteria
- [`read_storages_constraints()`](read_storages_constraints.md) : Read
  Short-term storages / additional constraints
- [`removeVirtualAreas()`](removeVirtualAreas.md) : Remove virtual areas
- [`showAliases()`](setAlias.md) [`setAlias()`](setAlias.md)
  [`getAlias()`](setAlias.md) : show aliases for variables
- [`setHvdcAreas()`](setHvdcAreas.md) : Set hvdc areas
- [`setRam()`](setRam.md) : Specify RAM limit
- [`setSimulationPath()`](setSimulationPath.md)
  [`setSimulationPathAPI()`](setSimulationPath.md) : Set Path to an
  Antares simulation
- [`setTimeoutAPI()`](setTimeoutAPI.md) : Change API Timeout
- [`simOptions()`](simOptions.md) : Extract simulation options
- [`subset(`*`<antaresDataList>`*`)`](subset.antaresDataList.md) :
  Subset an antaresDataList
- [`summary(`*`<bindingConstraints>`*`)`](summary.bindingConstraints.md)
  **\[deprecated\]** : Display equation of binding constraint
- [`viewAntares()`](viewAntares.md) : View the content of an antares
  output
- [`writeDigest()`](writeDigest.md) : Write digest file

# Articles

### All vignettes

- [The 'antaresRead' Package](antaresRead.md):
